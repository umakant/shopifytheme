<div class="wrapper">
  <div class="page-width feature-row">
    {% capture image_layout %}
      <div class="feature-row__item">
        {% if section.settings.image != blank %}
          <noscript>
            {{ section.settings.image | img_url: '600x600' | img_tag: section.settings.image.alt, 'feature-row__image-no-js' }}
          </noscript>
          <div class="feature-row__image-wrapper" style="padding-top:{{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100}}%;">
            {% assign img_url = section.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
            <img class="feature-row__image lazyload"
              src="{{ section.settings.image | img_url: '300x300' }}"
              data-src="{{ img_url }}"
              data-widths="[360, 540, 720, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
              data-aspectratio="{{ section.settings.image.aspect_ratio }}"
              data-sizes="auto"
              alt="{{ section.settings.image.alt | escape }}">
        </div>
        {% else %}
          {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
        {% endif %}
      </div>
    {% endcapture %}

    <div class="feature-row">
      {% if section.settings.layout == 'left' %}
        {{ image_layout }}
      {% endif %}

      <div class="feature-row__item feature-row__text feature-row__text--{{ section.settings.layout }}">
        {% if section.settings.title != blank %}
          <h2 class="h3">{{ section.settings.title | escape }}</h2>
        {% endif %}
        {% if section.settings.text != blank %}
          <div class="rte-setting featured-row__subtext">{{ section.settings.text }}</div>
        {% endif %}
        {% if section.settings.button_label != blank and section.settings.button_link != blank %}
          <a href="{{ section.settings.button_link }}" class="btn">
            {{ section.settings.button_label | escape }}
          </a>
        {% endif %}
      </div>

      {% if section.settings.layout == 'right' %}
        {{ image_layout }}
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
  {
    "name": {
      "pt-BR": "Imagem com texto",
      "es": "Imagen con texto",
      "de": "Bild mit Text",
      "it": "Immagine con testo",
      "en": "Image with text",
      "ja": "テキスト付き画像",
      "fr": "Image avec texte"
    },
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": {
          "pt-BR": "Imagem",
          "es": "Imagen",
          "de": "Bild",
          "it": "Immagine",
          "en": "Image",
          "ja": "画像",
          "fr": "Image"
        }
      },
      {
        "type": "select",
        "id": "layout",
        "label": {
          "pt-BR": "Alinhamento da imagem",
          "es": "Alineación de imagen",
          "de": "Bildausrichtung",
          "it": "Allineamento immagine",
          "en": "Image alignment",
          "ja": "画像アラインメント",
          "fr": "Alignement de l'image"
        },
        "default": "left",
        "options": [
          {
            "value": "left",
            "label": {
              "pt-BR": "Esquerda",
              "es": "Izquierda",
              "de": "Links",
              "it": "Sinistra",
              "en": "Left",
              "ja": "左",
              "fr": "Gauche"
            }
          },
          {
            "value": "right",
            "label": {
              "pt-BR": "Direita",
              "es": "Derecha",
              "de": "Rechts",
              "it": "Destra",
              "en": "Right",
              "ja": "右",
              "fr": "Droite"
            }
          }
        ]
      },
      {
        "type": "text",
        "id": "title",
        "label": {
          "pt-BR": "Título",
          "es": "Título",
          "de": "Überschrift",
          "it": "Heading",
          "en": "Heading",
          "ja": "見出し",
          "fr": "Titre"
        },
        "default": {
          "pt-BR": "Imagem com texto",
          "es": "Imagen con texto",
          "de": "Bild mit Text",
          "it": "Immagine con testo",
          "en": "Image with text",
          "ja": "テキスト付き画像",
          "fr": "Image avec texte"
        }
      },
      {
        "type": "richtext",
        "id": "text",
        "label": {
          "pt-BR": "Texto",
          "es": "texto",
          "de": "Text",
          "it": "Testo",
          "en": "Text",
          "ja": "テキスト",
          "fr": "Texte"
        },
        "default": {
          "pt-BR": "<p>Emparelhe texto grande com uma imagem para dar foco ao produto, coleção ou postagem do blog escolhido. Adicione detalhes sobre disponibilidade, estilo ou até mesmo um comentário.</p>",
          "es": "<p>Vincula un texto largo con una imagen para dar visibilidad a tu producto, colección o publicación de blog elegida. Agrega detalles sobre disponibilidad, estilo o incluso ofrece un comentario.</p>",
          "de": "<p>Kombinieren Sie lange Texte mit einem Bild, um den Fokus auf Ihr Produkt, Ihre Kategorie oder Ihren Blogpost zu richten. Sie können außerdem weitere Details über die Verfügbarkeit oder den Stil und sogar eine Bewertung hinzufügen.</p>",
          "it": "<p>Associa un testo di grandi dimensioni a un'immagine per dare importanza al tuo prodotto, collezione o articolo del blog scelto. Aggiungi dettagli sulla disponibilità, sullo stile o fornisci anche una recensione.</p>",
          "en": "<p>Pair large text with an image to give focus to your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>",
          "ja": "<p>あなたが選んだ商品、コレクション、またはブログ投稿に注目を集めるため、大きなテキストと画像を組み合わせます。可用性、スタイル、またはレビュー提供についての詳細を追加します。</p>",
          "fr": "<p>Associez un texte de grande taille à une image pour mettre en relief le produit, la collection ou l'article de blog de votre choix. Ajoutez des informations sur la disponibilité ou le style. Vous pouvez même fournir un avis.</p>"
        }
      },
      {
        "type": "text",
        "id": "button_label",
        "label": {
          "pt-BR": "Etiqueta do botão",
          "es": "Etiqueta de botón",
          "de": "Schaltflächenbezeichnung",
          "it": "Etichetta pulsante",
          "en": "Button label",
          "ja": "ボタンラベル",
          "fr": "Texte du bouton"
        }
      },
      {
        "type": "url",
        "id": "button_link",
        "label": {
          "pt-BR": "Link do botão",
          "es": "Enlace de botón",
          "de": "Schaltflächenlink",
          "it": "Link pulsante",
          "en": "Button link",
          "ja": "ボタンリンク",
          "fr": "Lien du bouton"
        }
      }
    ],
    "presets": [
      {
        "name": {
          "pt-BR": "Imagem com texto",
          "es": "Imagen con texto",
          "de": "Bild mit Text",
          "it": "Immagine con testo",
          "en": "Image with text",
          "ja": "テキスト付き画像",
          "fr": "Image avec texte"
        },
        "category": {
          "pt-BR": "Imagem",
          "es": "Imagen",
          "de": "Foto",
          "it": "Immagine",
          "en": "Image",
          "ja": "画像",
          "fr": "Image"
        }
      }
    ]
  }
{% endschema %}
